{"ast":null,"code":"import _slicedToArray from\"/Users/viditshrivastava/Downloads/quiz_game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/viditshrivastava/Downloads/quiz_game/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useReducer}from\"react\";import Header from\"./Header\";import Main from\"./Main\";import Loader from\"./Loader\";import Error from\"./Error\";import StartScreen from\"./StartScreen\";import Question from\"./Question\";import NextButton from\"./NextButton\";import Progress from\"./Progress\";import FinishScreen from\"./FinishScreen\";import Footer from\"./Footer\";import Timer from\"./Timer\";import\"../index.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SECS_PER_QUESTION=60;var initialState={questions:[],status:\"loading\",// 'loading', 'error', 'ready', 'active', 'finished'\nindex:0,answer:null,points:0,highscore:0,secondsRemaining:null,showFunFact:false// Track if the fun fact should be displayed\n};function reducer(state,action){switch(action.type){case\"dataReceived\":return _objectSpread(_objectSpread({},state),{},{questions:action.payload,status:\"ready\"});case\"dataFailed\":return _objectSpread(_objectSpread({},state),{},{status:\"error\"});case\"start\":return _objectSpread(_objectSpread({},state),{},{status:\"active\",secondsRemaining:state.questions.length*SECS_PER_QUESTION});case\"newAnswer\":var question=state.questions.at(state.index);return _objectSpread(_objectSpread({},state),{},{answer:action.payload,points:action.payload===question.correctOption?state.points+question.points:state.points,showFunFact:true// Show the fun fact after selecting any answer\n});case\"nextQuestion\":return _objectSpread(_objectSpread({},state),{},{index:state.index+1,answer:null,showFunFact:false// Reset fun fact when moving to the next question\n});case\"finish\":return _objectSpread(_objectSpread({},state),{},{status:\"finished\",highscore:state.points>state.highscore?state.points:state.highscore});case\"restart\":return _objectSpread(_objectSpread({},initialState),{},{questions:state.questions,status:\"ready\"});case\"tick\":return _objectSpread(_objectSpread({},state),{},{secondsRemaining:state.secondsRemaining-1,highscore:state.secondsRemaining===0?state.points>state.highscore?state.points:state.highscore:state.highscore,status:state.secondsRemaining===0?\"finished\":state.status});default:throw new Error(\"Action unknown\");}}export default function App(){var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],questions=_useReducer2$.questions,status=_useReducer2$.status,index=_useReducer2$.index,answer=_useReducer2$.answer,points=_useReducer2$.points,highscore=_useReducer2$.highscore,secondsRemaining=_useReducer2$.secondsRemaining,showFunFact=_useReducer2$.showFunFact,dispatch=_useReducer2[1];var numQuestions=questions.length;var maxPossiblePoints=questions.reduce(function(prev,cur){return prev+cur.points;},0);useEffect(function(){fetch(\"https://vidit-shrivastava-ox.github.io/quiz_questions/questions.json\").then(function(res){return res.json();}).then(function(data){return dispatch({type:\"dataReceived\",payload:data[\"questions\"]});}).catch(function(){return dispatch({type:\"dataFailed\"});});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"headerWrapper\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Main,{children:[status===\"loading\"&&/*#__PURE__*/_jsx(Loader,{}),status===\"error\"&&/*#__PURE__*/_jsx(Error,{}),status===\"ready\"&&/*#__PURE__*/_jsx(StartScreen,{numQuestions:numQuestions,dispatch:dispatch}),status===\"active\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Progress,{index:index,numQuestions:numQuestions,points:points,maxPossiblePoints:maxPossiblePoints,answer:answer}),/*#__PURE__*/_jsx(Question,{question:questions[index],dispatch:dispatch,answer:answer,showFunFact:showFunFact}),/*#__PURE__*/_jsxs(Footer,{children:[/*#__PURE__*/_jsx(Timer,{dispatch:dispatch,secondsRemaining:secondsRemaining}),/*#__PURE__*/_jsx(NextButton,{dispatch:dispatch,answer:answer,numQuestions:numQuestions,index:index})]})]}),status===\"finished\"&&/*#__PURE__*/_jsx(FinishScreen,{points:points,maxPossiblePoints:maxPossiblePoints,highscore:highscore,dispatch:dispatch})]})]})})});}","map":{"version":3,"names":["useEffect","useReducer","Header","Main","Loader","Error","StartScreen","Question","NextButton","Progress","FinishScreen","Footer","Timer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SECS_PER_QUESTION","initialState","questions","status","index","answer","points","highscore","secondsRemaining","showFunFact","reducer","state","action","type","_objectSpread","payload","length","question","at","correctOption","App","_useReducer","_useReducer2","_slicedToArray","_useReducer2$","dispatch","numQuestions","maxPossiblePoints","reduce","prev","cur","fetch","then","res","json","data","catch","className","children"],"sources":["/Users/viditshrivastava/Downloads/quiz_game/src/components/App.js"],"sourcesContent":["import { useEffect, useReducer } from \"react\";\n\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Loader from \"./Loader\";\nimport Error from \"./Error\";\nimport StartScreen from \"./StartScreen\";\nimport Question from \"./Question\";\nimport NextButton from \"./NextButton\";\nimport Progress from \"./Progress\";\nimport FinishScreen from \"./FinishScreen\";\nimport Footer from \"./Footer\";\nimport Timer from \"./Timer\";\nimport \"../index.css\";\n\nconst SECS_PER_QUESTION = 60;\n\nconst initialState = {\n  questions: [],\n  status: \"loading\", // 'loading', 'error', 'ready', 'active', 'finished'\n  index: 0,\n  answer: null,\n  points: 0,\n  highscore: 0,\n  secondsRemaining: null,\n  showFunFact: false, // Track if the fun fact should be displayed\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"dataReceived\":\n      return {\n        ...state,\n        questions: action.payload,\n        status: \"ready\",\n      };\n    case \"dataFailed\":\n      return {\n        ...state,\n        status: \"error\",\n      };\n    case \"start\":\n      return {\n        ...state,\n        status: \"active\",\n        secondsRemaining: state.questions.length * SECS_PER_QUESTION,\n      };\n    case \"newAnswer\":\n      const question = state.questions.at(state.index);\n\n      return {\n        ...state,\n        answer: action.payload,\n        points:\n          action.payload === question.correctOption\n            ? state.points + question.points\n            : state.points,\n        showFunFact: true, // Show the fun fact after selecting any answer\n      };\n    case \"nextQuestion\":\n      return {\n        ...state,\n        index: state.index + 1,\n        answer: null,\n        showFunFact: false, // Reset fun fact when moving to the next question\n      };\n    case \"finish\":\n      return {\n        ...state,\n        status: \"finished\",\n        highscore:\n          state.points > state.highscore ? state.points : state.highscore,\n      };\n    case \"restart\":\n      return { ...initialState, questions: state.questions, status: \"ready\" };\n    case \"tick\":\n      return {\n        ...state,\n        secondsRemaining: state.secondsRemaining - 1,\n        highscore:\n          state.secondsRemaining === 0\n            ? state.points > state.highscore\n              ? state.points\n              : state.highscore\n            : state.highscore,\n        status: state.secondsRemaining === 0 ? \"finished\" : state.status,\n      };\n    default:\n      throw new Error(\"Action unknown\");\n  }\n}\n\nexport default function App() {\n  const [\n    { questions, status, index, answer, points, highscore, secondsRemaining, showFunFact },\n    dispatch,\n  ] = useReducer(reducer, initialState);\n\n  const numQuestions = questions.length;\n  const maxPossiblePoints = questions.reduce(\n    (prev, cur) => prev + cur.points,\n    0\n  );\n\n  useEffect(() => {\n    fetch(\"https://vidit-shrivastava-ox.github.io/quiz_questions/questions.json\")\n      .then((res) => res.json())\n      .then((data) =>\n        dispatch({\n          type: \"dataReceived\",\n          payload: data[\"questions\"],\n        })\n      )\n      .catch(() => dispatch({ type: \"dataFailed\" }));\n  }, []);\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"app\">\n        <div className=\"headerWrapper\">\n          <Header />\n\n          <Main>\n            {status === \"loading\" && <Loader />}\n            {status === \"error\" && <Error />}\n            {status === \"ready\" && (\n              <StartScreen numQuestions={numQuestions} dispatch={dispatch} />\n            )}\n            {status === \"active\" && (\n              <>\n                <Progress\n                  index={index}\n                  numQuestions={numQuestions}\n                  points={points}\n                  maxPossiblePoints={maxPossiblePoints}\n                  answer={answer}\n                />\n                <Question\n                  question={questions[index]}\n                  dispatch={dispatch}\n                  answer={answer}\n                  showFunFact={showFunFact}\n                />\n                <Footer>\n                  <Timer\n                    dispatch={dispatch}\n                    secondsRemaining={secondsRemaining}\n                  />\n                  <NextButton\n                    dispatch={dispatch}\n                    answer={answer}\n                    numQuestions={numQuestions}\n                    index={index}\n                  />\n                </Footer>\n              </>\n            )}\n            {status === \"finished\" && (\n              <FinishScreen\n                points={points}\n                maxPossiblePoints={maxPossiblePoints}\n                highscore={highscore}\n                dispatch={dispatch}\n              />\n            )}\n          </Main>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}